â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                                           â•‘
â•‘        ğŸ‰ Há»† THá»NG FRAUD DETECTION REALTIME ÄÃƒ HOÃ€N THÃ€NH! ğŸ‰           â•‘
â•‘                                                                           â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“‹ TÃ“M Táº®T Há»† THá»NG
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… Components Ä‘Ã£ táº¡o:
   1. Kafka Producer      (kafka_producer.py)
   2. Spark Consumer       (spark_consumer.py)
   3. Dashboard            (dashboard.py)
   4. Scripts há»— trá»£       (*.sh)
   5. Documentation        (*.md, *.txt)

âœ… Luá»“ng dá»¯ liá»‡u:
   CSV (HDFS) â†’ Kafka â†’ Spark MLlib â†’ Kafka â†’ Dashboard

âœ… CÃ´ng nghá»‡ sá»­ dá»¥ng:
   â€¢ PySpark 3.3.0 (Streaming + MLlib)
   â€¢ Kafka + Zookeeper
   â€¢ Plotly Dash
   â€¢ HDFS


ğŸ“‚ DANH SÃCH FILES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Core Components:
â”œâ”€â”€ kafka_producer.py           (6.3 KB)  # Producer: CSV â†’ Kafka
â”œâ”€â”€ spark_consumer.py           (8.8 KB)  # Consumer: Kafka â†’ ML â†’ Kafka
â””â”€â”€ dashboard.py                (15 KB)   # Dashboard vá»›i Plotly Dash

Scripts:
â”œâ”€â”€ start_all.sh               (2.9 KB)  # â­ Cháº¡y táº¥t cáº£ (tmux)
â”œâ”€â”€ run_system.sh              (1.9 KB)  # Menu cháº¡y tá»«ng component
â”œâ”€â”€ kafka_monitor.sh           (2.8 KB)  # Monitor Kafka topics
â””â”€â”€ check_models.py            (5.2 KB)  # Kiá»ƒm tra models

Documentation:
â”œâ”€â”€ README_REALTIME_SYSTEM.md  (6.1 KB)  # ğŸ“– HÆ°á»›ng dáº«n Ä‘áº§y Ä‘á»§
â”œâ”€â”€ QUICKSTART.md              (3.3 KB)  # ğŸš€ HÆ°á»›ng dáº«n nhanh
â”œâ”€â”€ ARCHITECTURE.txt           (16 KB)   # ğŸ“ Kiáº¿n trÃºc chi tiáº¿t
â””â”€â”€ SUMMARY.txt                (file nÃ y)

Dependencies:
â””â”€â”€ requirements_dashboard.txt  (62 B)   # Python packages


ğŸš€ CÃCH CHáº Y NHANH (3 BÆ¯á»šC)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ BÆ¯á»šC 1: Chuáº©n bá»‹                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  1.1. Train model (cháº¡y train.ipynb) - táº¡o models:
       â€¢ gbt_fraud_model/
       â€¢ spark_scaler_model/

  1.2. Upload CSV lÃªn HDFS:
       docker cp paysim_realtime.csv namenode:/tmp/
       docker exec -it namenode hdfs dfs -put /tmp/paysim_realtime.csv /data/input/

  1.3. Kiá»ƒm tra models:
       python check_models.py

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ BÆ¯á»šC 2: Cháº¡y há»‡ thá»‘ng                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  âœ¨ CÃCH Dá»„ NHáº¤T - DÃ¹ng tmux (tá»± Ä‘á»™ng):
     ./start_all.sh

  ğŸ“± HOáº¶C - Cháº¡y thá»§ cÃ´ng (3 terminals):

     Terminal 1:
     spark-submit --packages org.apache.spark:spark-sql-kafka-0-10_2.12:3.3.0 \
                  kafka_producer.py

     Terminal 2:
     spark-submit --packages org.apache.spark:spark-sql-kafka-0-10_2.12:3.3.0 \
                  spark_consumer.py

     Terminal 3:
     pip install -r requirements_dashboard.txt
     python dashboard.py

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ BÆ¯á»šC 3: Xem Dashboard                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  Má»Ÿ trÃ¬nh duyá»‡t:
  ğŸ‘‰ http://localhost:8050


ğŸ“Š DASHBOARD FEATURES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“ˆ Metrics Cards                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚  â”‚ Total  â”‚ Fraud  â”‚ Fraud  â”‚ Total  â”‚                 â”‚
â”‚  â”‚ Txns   â”‚ Count  â”‚  Rate  â”‚ Amount â”‚                 â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â”‚                                                          â”‚
â”‚  ğŸ“Š Charts (auto-update má»—i 1s)                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚  â”‚ Transaction     â”‚ Fraud           â”‚                â”‚
â”‚  â”‚ Timeline        â”‚ Distribution    â”‚                â”‚
â”‚  â”‚ (scatter)       â”‚ (bar chart)     â”‚                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚  â”‚ Amount          â”‚ Confusion       â”‚                â”‚
â”‚  â”‚ Distribution    â”‚ Matrix          â”‚                â”‚
â”‚  â”‚ (box plot)      â”‚ (heatmap)       â”‚                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚                                                          â”‚
â”‚  ğŸ“‹ Recent Transactions Table (20 giao dá»‹ch gáº§n nháº¥t)  â”‚
â”‚  â€¢ Highlight Ä‘á» cho fraud alerts ğŸš¨                    â”‚
â”‚  â€¢ Hiá»ƒn thá»‹ prediction probability                     â”‚
â”‚  â€¢ Update realtime                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


ğŸ¯ FEATURES CHÃNH
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… Real-time Processing
   â€¢ Streaming tá»« CSV (giáº£ láº­p realtime vá»›i delay 1s)
   â€¢ Spark Structured Streaming
   â€¢ Kafka message queue

âœ… Machine Learning
   â€¢ GBTClassifier (Gradient Boosted Trees)
   â€¢ StandardScaler normalization
   â€¢ Feature engineering tá»± Ä‘á»™ng
   â€¢ Weighted training (xá»­ lÃ½ imbalanced data)

âœ… Visualization
   â€¢ Dashboard tÆ°Æ¡ng tÃ¡c vá»›i Plotly Dash
   â€¢ Auto-refresh má»—i 1 giÃ¢y
   â€¢ Multiple charts vÃ  metrics
   â€¢ Fraud alerts vá»›i highlight

âœ… Monitoring
   â€¢ Confusion matrix realtime
   â€¢ Performance metrics (precision, recall)
   â€¢ Transaction timeline
   â€¢ Amount distribution


âš™ï¸ Cáº¤U HÃŒNH
â•â•â•â•â•â•â•â•â•â•â•

Producer (kafka_producer.py):
  â€¢ HDFS Path: hdfs://namenode:9000/data/input/paysim_realtime.csv
  â€¢ Kafka Topic: "transactions"
  â€¢ Delay: 1 giÃ¢y/transaction

Consumer (spark_consumer.py):
  â€¢ Input Topic: "transactions"
  â€¢ Output Topic: "predictions"
  â€¢ Threshold: 0.50

Dashboard (dashboard.py):
  â€¢ Kafka Topic: "predictions"
  â€¢ Update Interval: 1 giÃ¢y
  â€¢ Max Points: 100
  â€¢ Port: 8050


ğŸ“Œ MONITORING URLS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ” Fraud Detection Dashboard:  http://localhost:8050
âš¡ Spark Master UI:            http://localhost:8080
ğŸ’¼ Spark Worker UI:            http://localhost:8081
ğŸ“ HDFS NameNode UI:           http://localhost:9870
ğŸ“Š Jupyter Notebook:           http://localhost:8888


ğŸ› ï¸ TROUBLESHOOTING
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Lá»—i thÆ°á»ng gáº·p:

âŒ "Models not found"
   â†’ Cháº¡y train.ipynb Ä‘á»ƒ train models

âŒ "Kafka connection refused"
   â†’ docker-compose restart kafka zookeeper

âŒ "File not found on HDFS"
   â†’ Upload láº¡i: hdfs dfs -put /tmp/paysim_realtime.csv /data/input/

âŒ "Dashboard khÃ´ng hiá»ƒn thá»‹ data"
   â†’ Check logs cá»§a consumer vÃ  producer
   â†’ ./kafka_monitor.sh (option 2 hoáº·c 3)

âŒ "Import errors"
   â†’ pip install -r requirements_dashboard.txt


ğŸ“– TÃ€I LIá»†U THAM KHáº¢O
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“˜ Chi tiáº¿t Ä‘áº§y Ä‘á»§:       README_REALTIME_SYSTEM.md
ğŸš€ HÆ°á»›ng dáº«n nhanh:       QUICKSTART.md
ğŸ“ Kiáº¿n trÃºc há»‡ thá»‘ng:    ARCHITECTURE.txt

Scripts há»¯u Ã­ch:
  â€¢ ./start_all.sh         â†’ Cháº¡y toÃ n bá»™ há»‡ thá»‘ng (tmux)
  â€¢ ./run_system.sh        â†’ Menu chá»n component
  â€¢ ./kafka_monitor.sh     â†’ Monitor Kafka topics
  â€¢ python check_models.py â†’ Kiá»ƒm tra models


ğŸ’¡ TIPS & TRICKS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. TÄƒng tá»‘c Ä‘á»™ streaming:
   â†’ Giáº£m DELAY_SECONDS trong kafka_producer.py

2. Thay Ä‘á»•i threshold:
   â†’ Sá»­a BEST_THRESHOLD trong spark_consumer.py

3. LÆ°u nhiá»u Ä‘iá»ƒm hÆ¡n trÃªn chart:
   â†’ TÄƒng MAX_POINTS trong dashboard.py

4. Debug Kafka messages:
   â†’ DÃ¹ng ./kafka_monitor.sh

5. Stop há»‡ thá»‘ng:
   â†’ tmux kill-session -t fraud_detection
   â†’ HOáº¶C Ctrl+C á»Ÿ má»—i terminal


ğŸ“ KIáº¾N THá»¨C LIÃŠN QUAN
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Technologies:
  âœ“ Apache Spark (PySpark)
  âœ“ Apache Kafka
  âœ“ Hadoop HDFS
  âœ“ Machine Learning (GBT)
  âœ“ Plotly Dash
  âœ“ Real-time Streaming
  âœ“ Docker & Docker Compose

Skills demonstrated:
  âœ“ End-to-end ML pipeline
  âœ“ Distributed computing
  âœ“ Stream processing
  âœ“ Data visualization
  âœ“ System architecture


ğŸ‰ Káº¾T LUáº¬N
â•â•â•â•â•â•â•â•â•â•â•

Há»‡ thá»‘ng Real-time Fraud Detection Ä‘Ã£ hoÃ n thÃ nh vá»›i Ä‘áº§y Ä‘á»§ tÃ­nh nÄƒng:

  âœ… Producer: Giáº£ láº­p streaming tá»« CSV
  âœ… Consumer: ML prediction vá»›i Spark MLlib
  âœ… Dashboard: Visualization realtime vá»›i Plotly Dash
  âœ… Kafka: Message queue cho streaming pipeline
  âœ… HDFS: Distributed storage
  âœ… Docker: Containerized deployment

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

             ğŸš€ HÃƒY Báº®T Äáº¦U Vá»šI: ./start_all.sh ğŸš€

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“§ Questions? Check logs hoáº·c Ä‘á»c README_REALTIME_SYSTEM.md

                        Good luck! ğŸ€
